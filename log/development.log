

Started GET "/" for 127.0.0.1 at 2015-01-06 20:39:06 +0800

ActiveRecord::PendingMigrationError (Migrations are pending; run 'rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.0) lib/active_record/migration.rb:379:in `check_pending!'
  activerecord (4.0.0) lib/active_record/migration.rb:366:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3159224520263504537__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.5ms)
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20141221123715)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar(255), "uid" varchar(255), "name" varchar(255), "oauth_token" varchar(255), "oauth_expires_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20141221123715"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/" for 127.0.0.1 at 2015-01-06 20:39:51 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 838ms (Views: 828.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-06 20:39:52 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-06 20:39:54 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-06 20:39:54 +0800
(facebook) Request phase initiated.


Started GET "/" for 127.0.0.1 at 2015-01-10 01:15:30 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (2.6ms)
Completed 200 OK in 92ms (Views: 79.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 01:15:31 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 01:15:36 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 01:15:37 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 01:18:16 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 01:18:16 +0800
(facebook) Request phase initiated.


Started GET "/show" for 127.0.0.1 at 2015-01-10 01:18:19 +0800
Processing by FriendsController#show as HTML
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `oauth_token' for nil:NilClass):
  app/controllers/friends_controller.rb:3:in `show'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.0ms)


Started GET "/show" for 127.0.0.1 at 2015-01-10 01:18:19 +0800
Processing by FriendsController#show as HTML
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `oauth_token' for nil:NilClass):
  app/controllers/friends_controller.rb:3:in `show'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:17:02 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (2.3ms)
Completed 200 OK in 95ms (Views: 78.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:02 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:17:04 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:17:04 +0800
(facebook) Request phase initiated.


Started GET "/" for 127.0.0.1 at 2015-01-10 03:17:28 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:28 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:17:29 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:17:30 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQAn9uAjoe_BQNYVQvxKocwtY3SAtLk_kdaCeAIu6SsDvJydv-QEyD5wfT-GjkC3ujjgNy09q5xx2n3FpmAu0iXKv0h1hw_HZB5V9-sChUjU1gbBWYOfRip_uNf4XhPLd-qXHMZ2b8AQ8rNGvLbESocrG-9HVTELFGCm_6NoA3ExXgxbAMVBDoZ17RyxdI111ivy-p2-4oiTXUbc4DbomVZE1SdcjDRjzJnTj2Un_uDtt8gI0hJJSAaIGAuUUf_rB8yTtCUlNmJYIMCTW931XqRxiPIgCkyUeiXtjoCqrbuGyRxVRYAx5d7YbG9L6QO9yqE" for 127.0.0.1 at 2015-01-10 03:17:31 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAn9uAjoe_BQNYVQvxKocwtY3SAtLk_kdaCeAIu6SsDvJydv-QEyD5wfT-GjkC3ujjgNy09q5xx2n3FpmAu0iXKv0h1hw_HZB5V9-sChUjU1gbBWYOfRip_uNf4XhPLd-qXHMZ2b8AQ8rNGvLbESocrG-9HVTELFGCm_6NoA3ExXgxbAMVBDoZ17RyxdI111ivy-p2-4oiTXUbc4DbomVZE1SdcjDRjzJnTj2Un_uDtt8gI0hJJSAaIGAuUUf_rB8yTtCUlNmJYIMCTW931XqRxiPIgCkyUeiXtjoCqrbuGyRxVRYAx5d7YbG9L6QO9yqE"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (6.5ms)[0m  INSERT INTO "users" ("created_at", "name", "oauth_expires_at", "oauth_token", "provider", "uid", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 09 Jan 2015 19:17:32 UTC +00:00], ["name", "彭新雅"], ["oauth_expires_at", Tue, 10 Mar 2015 17:20:08 UTC +00:00], ["oauth_token", "CAAJH0FLgA7ABAMWf3IZBxUqfXOu6HZCO6mWPVqwpPePO9FW0xFUeGRH3BMkXR5B8CAtmTiJ4VgyaM9yE5ZCZACBBbVE1aUeL8zrLDalFrw3RnfGyKaJo9Pk2HY3evtJDnIwdwWdJphB4L3C42LxZCwb1ZAojNOvfN7HcAufQJOYjGS6i2yjTQuXi6wKbZCg4YdUPej5h7wcQeMcRewaPDB5"], ["provider", "facebook"], ["uid", "10202600536729493"], ["updated_at", Fri, 09 Jan 2015 19:17:32 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 48ms (ActiveRecord: 8.3ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:17:32 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:32 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:32 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:32 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:17:32 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:17:32 +0800


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:17:33 +0800
Processing by FriendsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 1176ms (Views: 18.4ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:32:00 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 69ms (Views: 58.0ms | ActiveRecord: 2.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:01 +0800


Started GET "/signout" for 127.0.0.1 at 2015-01-10 03:32:02 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:32:02 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:32:03 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:32:03 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:32:06 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:32:06 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQDh0tHd7h3ayWVCIXNYikiDljA5Ltu-hhemiYKjakNjIkyuWxFAInVhtiZ4_IT8lcaKNDiz2yh75AIJ7vRTEVh92L4J7SXhhFRXDu_hkYjuiPA46bMPVI2TLd1WTHrzyIdjEbpe7cuXfSsGqWPYXEN_LAfZlSaD59Ixbq_Nx__WXILjHw4T10lbk7NECsG3JRiHf2SZ52C7DdL_2cej1vY4S0lt_olUaeLiYeAApHAdtFKKcyl2nctcvXZEDAggLb6Sv2A0PsRKKiyo8sxBqFzvDmpEXRWsgX5X-iZix_1Hxi5ia95yk3yFc13LbiEbqpQ" for 127.0.0.1 at 2015-01-10 03:32:07 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDh0tHd7h3ayWVCIXNYikiDljA5Ltu-hhemiYKjakNjIkyuWxFAInVhtiZ4_IT8lcaKNDiz2yh75AIJ7vRTEVh92L4J7SXhhFRXDu_hkYjuiPA46bMPVI2TLd1WTHrzyIdjEbpe7cuXfSsGqWPYXEN_LAfZlSaD59Ixbq_Nx__WXILjHw4T10lbk7NECsG3JRiHf2SZ52C7DdL_2cej1vY4S0lt_olUaeLiYeAApHAdtFKKcyl2nctcvXZEDAggLb6Sv2A0PsRKKiyo8sxBqFzvDmpEXRWsgX5X-iZix_1Hxi5ia95yk3yFc13LbiEbqpQ"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABAJMW5VVjZCq846zLsOpPAbpfejTwCtssVm04vx4CAVkuBn3SSfC80pFhh4WoNyLytH4hZByJJ3vhF1ZCjoApj7S1X1lrnIejqGcm83TaKZALyYHZBDNOy4JcpLF22EVWHR6oSoDXuAnlclUhRDaHHUkardjWRGFYtZCV2kA96pkj0lCGdcAixj39A5wUgnxZB6MWkYue2RF"], ["updated_at", Fri, 09 Jan 2015 19:32:08 UTC +00:00]]
  [1m[35m (9.1ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 20ms (ActiveRecord: 10.7ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:32:08 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQDJvzdayrRtE5jpb2C5TBhKIh-EC4UsPHZH34JPJyuplyPBxcrc0Gremc7FayY5XTft5ZxFzRFmst_8xP3P0NtIB9pIMNYmQUfxQiIQAaFeToiJcGiq-Dce0gVdS0of_Id6rfi4NRo6GDp6UA7RdrkDyOBm24L7C_OtcetH44rocX9YyR5xsQ33Tm6g86IZxdtIQk4UrzFXxJ2BS7jskcLobtjcx7g6-FfgLftxnFk4UEoe3f6DpgmwNSYbiNDlh7-ibx0cD4Ivz1ha-kV9QtCumIKg9PnHIC2IYQxnaPhzHda9I4zCmYSHoYSKj8QYfRo" for 127.0.0.1 at 2015-01-10 03:32:09 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDJvzdayrRtE5jpb2C5TBhKIh-EC4UsPHZH34JPJyuplyPBxcrc0Gremc7FayY5XTft5ZxFzRFmst_8xP3P0NtIB9pIMNYmQUfxQiIQAaFeToiJcGiq-Dce0gVdS0of_Id6rfi4NRo6GDp6UA7RdrkDyOBm24L7C_OtcetH44rocX9YyR5xsQ33Tm6g86IZxdtIQk4UrzFXxJ2BS7jskcLobtjcx7g6-FfgLftxnFk4UEoe3f6DpgmwNSYbiNDlh7-ibx0cD4Ivz1ha-kV9QtCumIKg9PnHIC2IYQxnaPhzHda9I4zCmYSHoYSKj8QYfRo"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "oauth_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABANR7fyi9hIUxbgtHW4u63A5GbIeKaqkKaCtSZBzptmNylxTjGHffIvVmDZAP4ealZAZAGcFXLZBmVFKzGvmVuZAZCsy58LovFF70czLMPZCbw07tlHNcbkgYDuyk03qz5MNuGnlh4nxx7L5oQtvYwKNXdWQ5zFh8bU7ZCuQuvNZAjJZCoZAp5NZBmTHv3WBvUkgct1tiVxKd9JCu1"], ["oauth_expires_at", Tue, 10 Mar 2015 17:20:09 UTC +00:00], ["updated_at", Fri, 09 Jan 2015 19:32:11 UTC +00:00]]
  [1m[35m (9.2ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 14ms (ActiveRecord: 10.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:32:11 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:32:11 +0800


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:32:13 +0800
Processing by FriendsController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2007ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateIngredients (20150109193435)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "ingredients" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150109193435"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateFoods (20150109193449)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "category" varchar(255), "user_id" integer, "due" date, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150109193449"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:36:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by FriendsController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 1525ms (Views: 328.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/food.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/food.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:22 +0800


Started GET "/signout" for 127.0.0.1 at 2015-01-10 03:36:23 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:36:23 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:36:24 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:36:24 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQAgjeZ-4QDaOmMu8rGg-8ba0S6Z9lNc2lTWTIWOe15fgXiIyAU9S-PKQsih5y1ChG8wAFQ61n3HGxQQuTaURZKCqGFricS6xN6MDWZVj92YeVjr6J5ulacIlgfkOrVz04IqwY7RLEEn41TWZT_d5IGRSsGcpyHvuPKa33auTKtUto2mLUPiGVOlu2mzG70-wiCY8TajQKHjtW7jW84vbeji7DYwdZkKFpqajiLCradnVxlXQFV7jF5iaa-rbIKQJ55wj5VuetWu1lLYleB66usvSDzvsUVDVlhrhPwkeLk2LGY1I3nkeJjwCk_j2kVBnCs" for 127.0.0.1 at 2015-01-10 03:36:25 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAgjeZ-4QDaOmMu8rGg-8ba0S6Z9lNc2lTWTIWOe15fgXiIyAU9S-PKQsih5y1ChG8wAFQ61n3HGxQQuTaURZKCqGFricS6xN6MDWZVj92YeVjr6J5ulacIlgfkOrVz04IqwY7RLEEn41TWZT_d5IGRSsGcpyHvuPKa33auTKtUto2mLUPiGVOlu2mzG70-wiCY8TajQKHjtW7jW84vbeji7DYwdZkKFpqajiLCradnVxlXQFV7jF5iaa-rbIKQJ55wj5VuetWu1lLYleB66usvSDzvsUVDVlhrhPwkeLk2LGY1I3nkeJjwCk_j2kVBnCs"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABADDncJLYrqwsXB3ZCZC9lrzfcdazQLsDGVm5w1Bb3IRBfVNngI0kipNJZBFDZBZBYMTajY6mZBo6Qxf5WCAJr2uyOIH7YmOZCqsuMBqNYVRvi6pdHXuoGQibdlx1j4ADDPDbTWwQQP3ZBPVSiZA5avJggfvMMgK5WXFPwlJFklNlZBbSo3mez14474vTaqgwngOrExiVrA6X3c"], ["updated_at", Fri, 09 Jan 2015 19:36:27 UTC +00:00]]
  [1m[35m (9.0ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 14ms (ActiveRecord: 9.8ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:36:27 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/food.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/food.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:36:27 +0800


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:36:28 +0800
Processing by FriendsController#show as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 1176ms (Views: 7.1ms | ActiveRecord: 0.1ms)


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:44:05 +0800
Processing by FriendsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.1ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127920325860 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:69: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:71: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127920325860(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

              </ul>
            </div>
        </div>
    </div>
    
<div class="form">


';   flash.each do |key, value| 
@output_buffer.safe_append='      <div class="flash ';@output_buffer.append=( key );@output_buffer.safe_append='">';@output_buffer.append=( value );@output_buffer.safe_append='</div>
';   end 
@output_buffer.safe_append='  
  ';@output_buffer.append=( yield );@output_buffer.safe_append='
</div>



  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__1441089567947753290__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 1876ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:69: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:71: syntax error, unexpected end-of-input, expecting keyword_end):
    66: </body>
    67: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__1441089567947753290__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:44:52 +0800
Processing by FriendsController#show as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.2ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127945830900 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:69: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:71: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127945830900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

              </ul>
            </div>
        </div>
    </div>
<!--     
<div class="form">


';   flash.each do |key, value| 
@output_buffer.safe_append='      <div class="flash ';@output_buffer.append=( key );@output_buffer.safe_append='">';@output_buffer.append=( value );@output_buffer.safe_append='</div>
';   end 
@output_buffer.safe_append='  
  ';@output_buffer.append=( yield );@output_buffer.safe_append='
</div>

 -->

  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__1441089567947753290__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 1058ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:69: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:71: syntax error, unexpected end-of-input, expecting keyword_end):
    66: </body>
    67: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__1441089567947753290__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.3ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:45:02 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.4ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127937288920 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127937288920(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

              </ul>
            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end):
    55: </body>
    56: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.4ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:45:04 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127937288920 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127937288920(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

              </ul>
            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end):
    55: </body>
    56: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.7ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:45:04 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127937288920 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127937288920(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

              </ul>
            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end):
    55: </body>
    56: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.7ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:45:49 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/food.css?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/food.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:45:49 +0800


Started GET "/signout" for 127.0.0.1 at 2015-01-10 03:46:00 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:46:01 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:47:00 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
ERROR: compiling _app_views_layouts_application_html_erb___400121218365130917_70127956206160 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end
Function body:           def _app_views_layouts_application_html_erb___400121218365130917_70127956206160(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>
';                     if signed_in? 
@output_buffer.safe_append='
                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

 </ul>
            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:58: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:60: syntax error, unexpected end-of-input, expecting keyword_end):
    55: </body>
    56: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__204783242822851658__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2414212884420551612__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.5ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:47:26 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/food.css?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/food.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:47:26 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 03:50:01 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (File to import not found or unreadable: bootstrap.
Load paths:
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/images
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/javascripts
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/stylesheets
  /Users/SinyaPeng/Programming/SNA/food_society/vendor/assets/javascripts
  /Users/SinyaPeng/Programming/SNA/food_society/vendor/assets/stylesheets
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/turbolinks-2.5.3/lib/assets/javascripts
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/jquery-rails-3.1.2/vendor/assets/javascripts
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/coffee-rails-4.0.1/lib/assets/javascripts
  (in /Users/SinyaPeng/Programming/SNA/food_society/app/assets/stylesheets/scaffolds.css.scss:1)):
    2: <html>
    3: <head>
    4:   <title>FacebookUserCast</title>
    5:   <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
    6:   <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
    7:   <%= csrf_meta_tags %>
    8: </head>
  app/assets/stylesheets/scaffolds.css.scss:1
  app/views/layouts/application.html.erb:5:in `_app_views_layouts_application_html_erb___400121218365130917_70127945244360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.8ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:50:02 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (File to import not found or unreadable: bootstrap.
Load paths:
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/images
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/javascripts
  /Users/SinyaPeng/Programming/SNA/food_society/app/assets/stylesheets
  /Users/SinyaPeng/Programming/SNA/food_society/vendor/assets/javascripts
  /Users/SinyaPeng/Programming/SNA/food_society/vendor/assets/stylesheets
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/turbolinks-2.5.3/lib/assets/javascripts
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/jquery-rails-3.1.2/vendor/assets/javascripts
  /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/coffee-rails-4.0.1/lib/assets/javascripts
  (in /Users/SinyaPeng/Programming/SNA/food_society/app/assets/stylesheets/scaffolds.css.scss:1)):
    2: <html>
    3: <head>
    4:   <title>FacebookUserCast</title>
    5:   <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
    6:   <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
    7:   <%= csrf_meta_tags %>
    8: </head>
  app/assets/stylesheets/scaffolds.css.scss:1
  app/views/layouts/application.html.erb:5:in `_app_views_layouts_application_html_erb___400121218365130917_70127945244360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.3ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 2040ms (Views: 2030.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:26 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:52:29 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 03:52:30 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQATBh5kULs93vDcvHdF7RL2XER6YFGx_9lI5wXGXUm9r5gcnarWDt1nS8hnM2BkeJ_gfVEyo5nJnYCLCcbNmwRVaJf5TpOCdIayFU2-O6FgqrfnI0PkdgVMATBNgwAU4fuKEimnw_brBsMM2ZefZ1nQL60CsS2wI-_KAyzfU5O8HzLJHM7z6FVYvhiwzi_VY2cSjhE_JSyvYLXKGy1-gKWm3oqsyqGeMLo9PgM1mO_nSaC6s2HzWQ18LFPh6tE8NKoD_0LuYXVkVIHC3B0NhLXmoDJ9HJulPi6Uw9pubeY-P03xCXVVm5TeUnziXdYaRDM" for 127.0.0.1 at 2015-01-10 03:52:31 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQATBh5kULs93vDcvHdF7RL2XER6YFGx_9lI5wXGXUm9r5gcnarWDt1nS8hnM2BkeJ_gfVEyo5nJnYCLCcbNmwRVaJf5TpOCdIayFU2-O6FgqrfnI0PkdgVMATBNgwAU4fuKEimnw_brBsMM2ZefZ1nQL60CsS2wI-_KAyzfU5O8HzLJHM7z6FVYvhiwzi_VY2cSjhE_JSyvYLXKGy1-gKWm3oqsyqGeMLo9PgM1mO_nSaC6s2HzWQ18LFPh6tE8NKoD_0LuYXVkVIHC3B0NhLXmoDJ9HJulPi6Uw9pubeY-P03xCXVVm5TeUnziXdYaRDM"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  UPDATE "users" SET "oauth_token" = ?, "oauth_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["oauth_token", "CAAJH0FLgA7ABAFqUjpd67ZCtbp1XgV7Ke4P7KipNY2CnCLuZA15uQw1vp7DOoHfUvj9jfpMSr6NkrszYV09FCqG1X7MjpUcKsTf2ZB6qshced1OJS4xEbWeX95YEsBwwqjaXvhjNWWrCIvGkYlJsLRBZBXvlFsZBZB9pS4xYmUimfHkm1ZAMH6Yb0mbMvcXy7QufkBZCxZBPQoAafrGON2ZCd8"], ["oauth_expires_at", Tue, 10 Mar 2015 17:20:08 UTC +00:00], ["updated_at", Fri, 09 Jan 2015 19:52:32 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 38ms (ActiveRecord: 13.6ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:32 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:52:32 +0800


Started GET "/show" for 127.0.0.1 at 2015-01-10 03:52:34 +0800
Processing by FriendsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered friends/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 847ms (Views: 10.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:37 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:38 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:38 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 03:52:39 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.1ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 03:52:39 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (6.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (42.0ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 03:52:39 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (8.5ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (33.6ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:52:42 +0800
Processing by FoodsController#new as HTML
  Rendered foods/new.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.1ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:53:18 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 24ms

NoMethodError (undefined method `from_food_list' for #<Class:0x007fe3b7f15368>):
  app/controllers/foods_controller.rb:11:in `new'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.8ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:53:20 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `from_food_list' for #<Class:0x007fe3b7f15368>):
  app/controllers/foods_controller.rb:11:in `new'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.3ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:35 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.3ms)
Completed 200 OK in 45ms (Views: 7.7ms | ActiveRecord: 0.8ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:54:36 +0800


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:37 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.2ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:39 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.3ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:40 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.2ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:40 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.1ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:40 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:54:40 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered foods/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:56:28 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.0ms)
  Rendered foods/new.html.erb within layouts/application (25.5ms)
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:56:28 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 03:56:29 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.2ms)


Started POST "/foods" for 127.0.0.1 at 2015-01-10 03:56:40 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-16"}, "commit"=>"New Food!"}
Completed 500 Internal Server Error in 8ms

NameError (undefined local variable or method `authenticate_user' for #<FoodsController:0x007fe3b7df2558>):
  activesupport (4.0.0) lib/active_support/callbacks.rb:407:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.0ms)


Started POST "/foods" for 127.0.0.1 at 2015-01-10 03:56:55 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-16"}, "commit"=>"New Food!"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 21ms

NoMethodError (undefined method `foods' for #<User:0x007fe3b9083708>):
  app/controllers/foods_controller.rb:16:in `create'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.0ms)


Started POST "/foods" for 127.0.0.1 at 2015-01-10 03:58:48 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-16"}, "commit"=>"New Food!"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `foods' for #<User:0x007fe3b904b150>):
  app/controllers/foods_controller.rb:16:in `create'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.3ms)


Started POST "/foods" for 127.0.0.1 at 2015-01-10 03:59:26 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-16"}, "commit"=>"New Food!"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "foods" ("category", "created_at", "due", "name", "updated_at") VALUES (?, ?, ?, ?, ?)  [["category", "fruit"], ["created_at", Fri, 09 Jan 2015 19:59:26 UTC +00:00], ["due", Fri, 16 Jan 2015], ["name", "apple"], ["updated_at", Fri, 09 Jan 2015 19:59:26 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:3000/foods/new
Completed 302 Found in 35ms (ActiveRecord: 2.2ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:59:26 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.0ms)
  Rendered foods/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 30ms (Views: 11.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:26 +0800


Started POST "/foods" for 127.0.0.1 at 2015-01-10 03:59:35 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-07"}, "commit"=>"New Food!"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "foods" ("category", "created_at", "due", "name", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["category", "fruit"], ["created_at", Fri, 09 Jan 2015 19:59:35 UTC +00:00], ["due", Wed, 07 Jan 2015], ["name", "apple"], ["updated_at", Fri, 09 Jan 2015 19:59:35 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/foods/new
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:59:35 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFood Load (0.1ms)[0m  SELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC
  Rendered shared/_food.html.erb (0.0ms)
  Rendered foods/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.5ms)


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:35 +0800


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 03:59:37 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFood Load (0.2ms)[0m  SELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC
  Rendered shared/_food.html.erb (0.0ms)
  Rendered foods/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 03:59:37 +0800
  [1m[36mFood Load (1.2ms)[0m  [1mSELECT "foods".* FROM "foods"[0m


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:00:16 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFood Load (0.2ms)[0m  SELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC
  Rendered shared/_food.html.erb (0.0ms)
  Rendered foods/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 42ms (Views: 11.6ms | ActiveRecord: 1.0ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:16 +0800


Started POST "/foods" for 127.0.0.1 at 2015-01-10 04:00:22 +0800
Processing by FoodsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "food"=>{"name"=>"apple", "category"=>"fruit", "due"=>"2015-01-16"}, "commit"=>"New Food!"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "foods" ("category", "created_at", "due", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["category", "fruit"], ["created_at", Fri, 09 Jan 2015 20:00:22 UTC +00:00], ["due", Fri, 16 Jan 2015], ["name", "apple"], ["updated_at", Fri, 09 Jan 2015 20:00:22 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/foods/new
Completed 302 Found in 12ms (ActiveRecord: 2.4ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:00:22 +0800
Processing by FoodsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFood Load (0.2ms)[0m  SELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC
  Rendered shared/_food.html.erb (1.0ms)
  Rendered foods/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.3ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:00:22 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:00:27 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:00:28 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.3ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (1.6ms)
  Rendered foods/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.4ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:01:55 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.3ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:55 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:01:56 +0800


Started POST "/ask_for_food" for 127.0.0.1 at 2015-01-10 04:02:02 +0800
Processing by FoodsController#ask_for_food as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8pF5c6HI2nWddpnOrHJICAF5FLal4gV2avFoImJeJ20=", "myform"=>{"comments"=>"bn"}, "commit"=>"Submit"}
  Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:03:42 +0800
Processing by FoodsController#new as HTML
Completed 500 Internal Server Error in 6ms

NoMethodError (undefined method `find_by_session_token' for #<Class:0x007fe3b7cb1568>):
  app/controllers/application_controller.rb:21:in `current_user'
  app/controllers/foods_controller.rb:9:in `new'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.3ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:03:56 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 51ms (Views: 12.3ms | ActiveRecord: 1.0ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:03:57 +0800


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:06:31 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (4.4ms)
ERROR: compiling _app_views_layouts_application_html_erb___2093759178130450500_70308010326640 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:79: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_layouts_application_html_erb___2093759178130450500_70308010326640(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>

                  
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
                        ';@output_buffer.append=( current_user.name );@output_buffer.safe_append=' 
';@output_buffer.safe_append='                        <span class="caret">
                        </span>
                      </a>
                      
                <ul class="dropdown-menu">
                  <li>';@output_buffer.append=( link_to "Profile", current_user );@output_buffer.safe_append='</li>
                  <li>';@output_buffer.append=( link_to "Settings", '#' );@output_buffer.safe_append='</li>
                  <li class="divider" ></li>
                  <li>';@output_buffer.append=( link_to "Sign out", session_path, method: "delete" );@output_buffer.safe_append='</li>
                </ul>
                      </ul>
                    </li>

';                     else 
@output_buffer.safe_append='              <li> ';@output_buffer.append=( link_to "Sign in", new_session_path );@output_buffer.safe_append=' </li> 
';             end 
@output_buffer.safe_append='
              </ul>

            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:79: syntax error, unexpected keyword_ensure, expecting end-of-input):
    76: </body>
    77: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:07:05 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.4ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (5.1ms)
ERROR: compiling _app_views_layouts_application_html_erb___2093759178130450500_70307988426440 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:78: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_layouts_application_html_erb___2093759178130450500_70307988426440(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>


                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
                        ';@output_buffer.append=( current_user.name );@output_buffer.safe_append=' 
';@output_buffer.safe_append='                        <span class="caret">
                        </span>
                      </a>
                      
                <ul class="dropdown-menu">
                  <li>';@output_buffer.append=( link_to "Profile", current_user );@output_buffer.safe_append='</li>
                  <li>';@output_buffer.append=( link_to "Settings", '#' );@output_buffer.safe_append='</li>
                  <li class="divider" ></li>
                  <li>';@output_buffer.append=( link_to "Sign out", session_path, method: "delete" );@output_buffer.safe_append='</li>
                </ul>
                    

';                     else 
@output_buffer.safe_append='              <li> ';@output_buffer.append=( link_to "Sign in", new_session_path );@output_buffer.safe_append=' </li> 
';             end 
@output_buffer.safe_append='
              </ul>

            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:78: syntax error, unexpected keyword_ensure, expecting end-of-input):
    75: </body>
    76: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.9ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:07:06 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (4.9ms)
ERROR: compiling _app_views_layouts_application_html_erb___2093759178130450500_70307988426440 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:78: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_layouts_application_html_erb___2093759178130450500_70307988426440(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>


                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
                        ';@output_buffer.append=( current_user.name );@output_buffer.safe_append=' 
';@output_buffer.safe_append='                        <span class="caret">
                        </span>
                      </a>
                      
                <ul class="dropdown-menu">
                  <li>';@output_buffer.append=( link_to "Profile", current_user );@output_buffer.safe_append='</li>
                  <li>';@output_buffer.append=( link_to "Settings", '#' );@output_buffer.safe_append='</li>
                  <li class="divider" ></li>
                  <li>';@output_buffer.append=( link_to "Sign out", session_path, method: "delete" );@output_buffer.safe_append='</li>
                </ul>
                    

';                     else 
@output_buffer.safe_append='              <li> ';@output_buffer.append=( link_to "Sign in", new_session_path );@output_buffer.safe_append=' </li> 
';             end 
@output_buffer.safe_append='
              </ul>

            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:78: syntax error, unexpected keyword_ensure, expecting end-of-input):
    75: </body>
    76: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.0ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:08:45 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (4.4ms)
ERROR: compiling _app_views_layouts_application_html_erb___2093759178130450500_70308025234780 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:82: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_layouts_application_html_erb___2093759178130450500_70308025234780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>


                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
                        ';@output_buffer.append=( current_user.name );@output_buffer.safe_append=' 
';@output_buffer.safe_append='                        <span class="caret">
                        </span>
                      </a>
                      
                <ul class="dropdown-menu">
                  <li>';@output_buffer.append=( link_to "Profile", current_user );@output_buffer.safe_append='</li>
                  <li>';@output_buffer.append=( link_to "Settings", '#' );@output_buffer.safe_append='</li>
                  <li class="divider" ></li>
                  <li>';@output_buffer.append=( link_to "Sign out", signout_path, method: "delete" );@output_buffer.safe_append='</li>
                </ul>
                      </ul>
                    </li>

                    
';                     else 
@output_buffer.safe_append='              <li> ';@output_buffer.append=( link_to "Sign in", new_session_path );@output_buffer.safe_append=' </li> 
';             end 
@output_buffer.safe_append='


              </ul>

            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:82: syntax error, unexpected keyword_ensure, expecting end-of-input):
    79: </body>
    80: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.6ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:08:46 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.9ms)
  Rendered foods/new.html.erb within layouts/application (4.9ms)
ERROR: compiling _app_views_layouts_application_html_erb___2093759178130450500_70308025234780 RAISED /Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:82: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_layouts_application_html_erb___2093759178130450500_70308025234780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<!DOCTYPE html>
<html>
<head>
  <title>FacebookUserCast</title>
  ';@output_buffer.append=( stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( javascript_include_tag "application", "data-turbolinks-track" => true );@output_buffer.safe_append='
  ';@output_buffer.append=( csrf_meta_tags );@output_buffer.safe_append='
</head>
<body>


  <!-- Navigation bar
    ================================================== -->
 
  <div class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">
        ';@output_buffer.append=( link_to "Foodtest", root_path, id:"logo" );@output_buffer.safe_append='

            </a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li> ';@output_buffer.append=( link_to "Home", root_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Users", users_path );@output_buffer.safe_append=' </li>

                  <li> ';@output_buffer.append=( link_to "Foods", new_food_path );@output_buffer.safe_append=' </li>


                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
                        ';@output_buffer.append=( current_user.name );@output_buffer.safe_append=' 
';@output_buffer.safe_append='                        <span class="caret">
                        </span>
                      </a>
                      
                <ul class="dropdown-menu">
                  <li>';@output_buffer.append=( link_to "Profile", current_user );@output_buffer.safe_append='</li>
                  <li>';@output_buffer.append=( link_to "Settings", '#' );@output_buffer.safe_append='</li>
                  <li class="divider" ></li>
                  <li>';@output_buffer.append=( link_to "Sign out", signout_path, method: "delete" );@output_buffer.safe_append='</li>
                </ul>
                      </ul>
                    </li>

                    
';                     else 
@output_buffer.safe_append='              <li> ';@output_buffer.append=( link_to "Sign in", new_session_path );@output_buffer.safe_append=' </li> 
';             end 
@output_buffer.safe_append='


              </ul>

            </div>
        </div>
    </div>


  <div id="user-widget">
';     if current_user 
@output_buffer.safe_append='      Signed in as <strong>';@output_buffer.append=( current_user.name );@output_buffer.safe_append='</strong>
      ';@output_buffer.append=( link_to "sign out",signout_path, id: 'sign_out' );@output_buffer.safe_append='
';     else 
@output_buffer.safe_append='      ';@output_buffer.append=( link_to "sign in with facebook", "/auth/facebook", id: "sign_in" );@output_buffer.safe_append='
';     end 
@output_buffer.safe_append='  </div>

';@output_buffer.append=( yield );@output_buffer.safe_append='

</body>
</html>
';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (/Users/SinyaPeng/Programming/SNA/food_society/app/views/layouts/application.html.erb:82: syntax error, unexpected keyword_ensure, expecting end-of-input):
    79: </body>
    80: </html>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__4576740107026848727__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.1ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:09:36 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined method `signed_in?' for #<#<Class:0x007fe3b9da0530>:0x007fe3b908cb50>):
    29:             <div class="navbar-collapse collapse">
    30:               <ul class="nav navbar-nav">
    31:                   <li> <%= link_to "Home", root_path %> </li>
    32:                     <% if signed_in? %>
    33: 
    34:                   <li> <%= link_to "Users", users_path %> </li>
    35: 
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___2093759178130450500_70308019317360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.5ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:10:16 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (5.3ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined method `signed_in?' for #<#<Class:0x007fe3b9c702a0>:0x007fe3b9c2ed28>):
    29:             <div class="navbar-collapse collapse">
    30:               <ul class="nav navbar-nav">
    31:                   <li> <%= link_to "Home", root_path %> </li>
    32:                     <% if signed_in? %>
    33: 
    34:                   <li> <%= link_to "Users", users_path %> </li>
    35: 
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___2093759178130450500_70308019317360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:10:17 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.4ms)
  Rendered foods/new.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined method `signed_in?' for #<#<Class:0x007fe3b9c702a0>:0x007fe3b9aa6398>):
    29:             <div class="navbar-collapse collapse">
    30:               <ul class="nav navbar-nav">
    31:                   <li> <%= link_to "Home", root_path %> </li>
    32:                     <% if signed_in? %>
    33: 
    34:                   <li> <%= link_to "Users", users_path %> </li>
    35: 
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___2093759178130450500_70308019317360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.9ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:10:18 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (4.8ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `signed_in?' for #<#<Class:0x007fe3b9c702a0>:0x007fe3b7fd2e40>):
    29:             <div class="navbar-collapse collapse">
    30:               <ul class="nav navbar-nav">
    31:                   <li> <%= link_to "Home", root_path %> </li>
    32:                     <% if signed_in? %>
    33: 
    34:                   <li> <%= link_to "Users", users_path %> </li>
    35: 
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___2093759178130450500_70308019317360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.0ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:10:42 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.3ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.6ms)
  Rendered foods/new.html.erb within layouts/application (6.7ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (undefined method `signed_in?' for #<#<Class:0x007fe3b7e036c8>:0x007fe3b7e02430>):
    29:             <div class="navbar-collapse collapse">
    30:               <ul class="nav navbar-nav">
    31:                   <li> <%= link_to "Home", root_path %> </li>
    32:                     <% if signed_in? %>
    33: 
    34:                   <li> <%= link_to "Users", users_path %> </li>
    35: 
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___2093759178130450500_70308019317360'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:11:56 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.2ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 47ms (Views: 13.7ms | ActiveRecord: 1.0ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:11:56 +0800


Started GET "/foods/new" for 127.0.0.1 at 2015-01-10 04:12:03 +0800
Processing by FoodsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFood Load (0.3ms)[0m  [1mSELECT "foods".* FROM "foods" WHERE (user_id = 1) ORDER BY due ASC[0m
  Rendered shared/_food.html.erb (0.5ms)
  Rendered foods/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:12:03 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (26.1ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:12:04 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (25.8ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:12:06 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:12:30 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.1ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:30 +0800


Started GET "/signout" for 127.0.0.1 at 2015-01-10 04:12:32 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:12:32 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 22ms (Views: 15.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:33 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:35 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:35 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:35 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:35 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:35 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:12:36 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQAH4e5qwqKa2LCQwzO5DGQ5z8VRt0nF-ZAQlZnogg9P0rI24067EpbE93-bmCCaUiZe--lZmksr4qo21KoI0gP2fZz9lgdPs6i0FKRw_tybKInc4eUDstwNC0sWrJfrV8jQ4gZ-iyuKCdnJPvgUoGnUQ7_mZXdZwIXe4bys7i_5yXoPHmSSKd2P8-kIltNlf5sR2p1xJHoCFTYpU67X5FKlPdR6BjJ0_aIgM7blInHNXhQixRRilbGDxbuqRkFOzRhcYS2Ka2zvWRIMu_HQCsxqoY48VpfZf0-ZzpCgbqAzU27XCzi2WhYV00DD03JzNVU" for 127.0.0.1 at 2015-01-10 04:12:37 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAH4e5qwqKa2LCQwzO5DGQ5z8VRt0nF-ZAQlZnogg9P0rI24067EpbE93-bmCCaUiZe--lZmksr4qo21KoI0gP2fZz9lgdPs6i0FKRw_tybKInc4eUDstwNC0sWrJfrV8jQ4gZ-iyuKCdnJPvgUoGnUQ7_mZXdZwIXe4bys7i_5yXoPHmSSKd2P8-kIltNlf5sR2p1xJHoCFTYpU67X5FKlPdR6BjJ0_aIgM7blInHNXhQixRRilbGDxbuqRkFOzRhcYS2Ka2zvWRIMu_HQCsxqoY48VpfZf0-ZzpCgbqAzU27XCzi2WhYV00DD03JzNVU"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["oauth_token", "CAAJH0FLgA7ABAKJSJD0DzfNcbjUHqrpqBg2i68agA3XJ2GS69BomuS6dnAXm66R9YlZBh51wvmMOyd1wDzvmRWZBemsst7EREnKrtdxkche5JNDhMAlmOEFYpskInvkGy8xIuro7eyYDbos0jqgH6uQnXQ66BgHt22n6brNtdIOuCabqkEuYem78vuPZA6FMoipUePXRdr6ceZCwmqZA3"], ["updated_at", Fri, 09 Jan 2015 20:12:38 UTC +00:00]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 15ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:12:38 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:12:39 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:18 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:18 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:23 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.2ms)


Started GET "/signout" for 127.0.0.1 at 2015-01-10 04:13:24 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:24 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:26 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:26 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:26 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:27 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:27 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:27 +0800
(facebook) Request phase initiated.


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:28 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:28 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:28 +0800
(facebook) Request phase initiated.


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:29 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:29 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:30 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:31 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:31 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQD9qPpG8ErUXcAvUifIQnVlmFM9kHnng6IdapTZMquLl9BzU6o_pKTaAdfXPNNoBLx-ZGiYrJW25n5gTcoE9kEJc5MAS84j5dW-qAtzCsUMrrcL1k3XXhlPo7TEsXasWEm09neePI7ueLP_LD49Vu9bWV1nr_lmP2xIS6SvQXRe0CGuCPZUzh9zeuBjJ0Pvba15shanmCyA2SaQIBWyy-JCa5Ao7k0yhlR2uyoMKFNN4_jBQTkWQh2WfUfFIxdATmj-YDnWIkvZ_eaBYTfeVkYqFCt0rX7Algz-LlGM3nLn52QuigS7UXyHPSqnplOWy0w" for 127.0.0.1 at 2015-01-10 04:13:31 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQD9qPpG8ErUXcAvUifIQnVlmFM9kHnng6IdapTZMquLl9BzU6o_pKTaAdfXPNNoBLx-ZGiYrJW25n5gTcoE9kEJc5MAS84j5dW-qAtzCsUMrrcL1k3XXhlPo7TEsXasWEm09neePI7ueLP_LD49Vu9bWV1nr_lmP2xIS6SvQXRe0CGuCPZUzh9zeuBjJ0Pvba15shanmCyA2SaQIBWyy-JCa5Ao7k0yhlR2uyoMKFNN4_jBQTkWQh2WfUfFIxdATmj-YDnWIkvZ_eaBYTfeVkYqFCt0rX7Algz-LlGM3nLn52QuigS7UXyHPSqnplOWy0w"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABAHRM8PglM4jFi3JugpvDKRlygP4rGGPZCQLPeVKLcpwPcPZCqZCAEZAD68p2m5icSyff8Urchbhr8jdoFJkStn6yDEezadGB6CCslncQ9FeLN4s9UJlQl8JYTe5ogDXrbnJhzaOV6PkfuYEGg119diaTEQEqM1UCpmF1Ig6ZArZAv4XoJCWmmdJoOVE81SdiZAIhw0NSVN0"], ["updated_at", Fri, 09 Jan 2015 20:13:33 UTC +00:00]]
  [1m[35m (9.2ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 15ms (ActiveRecord: 10.1ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:13:33 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQCW7tzxkp74w4Hhd-Ev7_3s4MMeFGAmk7VyFjjURM62M6uQQhR1458i3nWalkdqxcUFGe8CLoK46bMfAhFJl83_OaZjblJtmml3RWpAm68ZQ4C1MGav0jCtN36I0E96qe3YUcI2kVOUrl6v1mityroY4UyZYjTAR_NvkatjzoCLBhBqhB9SldmKipHu0m48wAxmQr8kiNEB-J1nXpvusfC6pYAsKezD843369Ke3KpBNM-eSrr8qSa64xD0yHT4l_qsjM_kDNCMNx4prLpM6c3eeOF4Ajqdmmc5Czfhyl_XCDbTJw7AiGvChZxbbnsK3rU" for 127.0.0.1 at 2015-01-10 04:13:34 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCW7tzxkp74w4Hhd-Ev7_3s4MMeFGAmk7VyFjjURM62M6uQQhR1458i3nWalkdqxcUFGe8CLoK46bMfAhFJl83_OaZjblJtmml3RWpAm68ZQ4C1MGav0jCtN36I0E96qe3YUcI2kVOUrl6v1mityroY4UyZYjTAR_NvkatjzoCLBhBqhB9SldmKipHu0m48wAxmQr8kiNEB-J1nXpvusfC6pYAsKezD843369Ke3KpBNM-eSrr8qSa64xD0yHT4l_qsjM_kDNCMNx4prLpM6c3eeOF4Ajqdmmc5Czfhyl_XCDbTJw7AiGvChZxbbnsK3rU"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABACZCZCamCD0b4r08W0lXaLZBhIxA5z9C9xY1OZAskfi3JpJaKL8d7jzsQEzJx07OZCZABdrid82ZAhHbltQ4chIu1ZCtWSdOZAPgPptU8aMzQ3WtKxpdaq9NSiJ9mfmz6d9cJgdkOOOOI9usQDLi8JCX9xq5GUenAqoXHGMnaAoPxJeaSDIZCuF7GRavQix9GzprmtZCO0ob6vH"], ["updated_at", Fri, 09 Jan 2015 20:13:35 UTC +00:00]]
  [1m[35m (9.0ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:13:35 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:13:35 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:14:33 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:14:33 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.1ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:14:34 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (26.3ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:14:34 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (29.6ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:16:07 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (35.0ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:16:10 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (31.6ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:16:10 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (24.7ms)


Started GET "/users" for 127.0.0.1 at 2015-01-10 04:18:42 +0800

ActionController::RoutingError (uninitialized constant UsersController):
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2284776854298897973__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (28.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:18:45 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:18:45 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:18:46 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:19:11 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:11 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:12 +0800


Started GET "/signout" for 127.0.0.1 at 2015-01-10 04:19:14 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:19:14 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:19:30 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:30 +0800


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:19:31 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:19:32 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:19:33 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook" for 127.0.0.1 at 2015-01-10 04:19:33 +0800
(facebook) Request phase initiated.


Started GET "/auth/facebook/callback?code=AQCB44qMycxYmGOzxN2ptNoTPJU703LjyAP2OBn2FJLx8PBTnHMyiXA33EJJPlX7EM26tXrAnkkp9FsyOcM7mj46RR9EYWhqh9ZttbeBfbF5S1PmVXBAA26_3oC4Q3Kt7koQJvOanpPZcBFOohT63YanEWuTO-NKZU4p-JO06u7Db9NojEcJvHrd_icPhtDKG0hoBXlgximaH5UJqU2Bci-gnxJXuF5ugjWliSlObGAmY3FYjflx4zmZhOLQTZw8xKy_b7kRXA0cEIxbKUkxJvgfhBPAMCb2nRiOltLS_oHvElZJDYfj28_Rt56vp059Ias" for 127.0.0.1 at 2015-01-10 04:19:34 +0800
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCB44qMycxYmGOzxN2ptNoTPJU703LjyAP2OBn2FJLx8PBTnHMyiXA33EJJPlX7EM26tXrAnkkp9FsyOcM7mj46RR9EYWhqh9ZttbeBfbF5S1PmVXBAA26_3oC4Q3Kt7koQJvOanpPZcBFOohT63YanEWuTO-NKZU4p-JO06u7Db9NojEcJvHrd_icPhtDKG0hoBXlgximaH5UJqU2Bci-gnxJXuF5ugjWliSlObGAmY3FYjflx4zmZhOLQTZw8xKy_b7kRXA0cEIxbKUkxJvgfhBPAMCb2nRiOltLS_oHvElZJDYfj28_Rt56vp059Ias"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10202600536729493' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "oauth_token" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["oauth_token", "CAAJH0FLgA7ABACwkTEC7ZA98caDA0PkDcE6p4y2GhJHUXlKdPHSlHHkdtMkWxe58ZBKs8crFbJ52rrWYBA5OnZBa4uqCrit1tQKx3cDLV2deBjoeAcSwUT8VXIM1tkX7ATZArKuMvSdIYRlcGt74lDCLpRkcjFuWYHob1H6MnoxiGZBXxAAM6NWHqmZCbo2SpMLOo8mXKGZCYdbB8wg7LMk"], ["updated_at", Fri, 09 Jan 2015 20:19:35 UTC +00:00]]
  [1m[35m (8.0ms)[0m  commit transaction
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 11ms (ActiveRecord: 8.6ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:19:35 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:35 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:19:50 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.1ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:19:50 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:21:28 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:29 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:21:30 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:21:30 +0800


Started GET "/" for 127.0.0.1 at 2015-01-10 04:22:09 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.1ms)


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:09 +0800


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.woff" for 127.0.0.1 at 2015-01-10 04:22:09 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.woff"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.4ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (34.6ms)


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.ttf" for 127.0.0.1 at 2015-01-10 04:22:09 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.ttf"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (31.7ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:22:34 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:22:34 +0800


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.woff" for 127.0.0.1 at 2015-01-10 04:22:34 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.woff"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (37.8ms)


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.ttf" for 127.0.0.1 at 2015-01-10 04:22:34 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.ttf"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.4ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:23:53 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.1ms)


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:53 +0800


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.woff" for 127.0.0.1 at 2015-01-10 04:23:53 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.woff"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (32.3ms)


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.ttf" for 127.0.0.1 at 2015-01-10 04:23:53 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.ttf"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (34.2ms)


Started GET "/" for 127.0.0.1 at 2015-01-10 04:23:54 +0800
Processing by StaticPagesController#home as HTML
  Rendered static_pages/home.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/foods.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/root.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/friends.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/static_pages.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/facebook.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/foods.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/friends.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/static_pages.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-01-10 04:23:54 +0800


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.woff" for 127.0.0.1 at 2015-01-10 04:23:54 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.woff"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (29.5ms)


Started GET "/fonts/bootstrap/glyphicons-halflings-regular.ttf" for 127.0.0.1 at 2015-01-10 04:23:54 +0800

ActionController::RoutingError (No route matches [GET] "/fonts/bootstrap/glyphicons-halflings-regular.ttf"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/SinyaPeng/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /Users/SinyaPeng/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (21.7ms)
